<!doctype html><html lang=zh class=dark><meta charset=utf-8>
<meta name=viewport content="width=device-width">
<title>CSharpæŸ¥ç¼ºè¡¥æ¼20210928 | ğŸ¦æ³½æ¢…å°”çš„é©»ç•™åœ°</title>
<meta name=generator content="Hugo Eureka 0.8.2">
<link rel=stylesheet href=https://www.zling.site/css/eureka.min.css>
<script defer src=https://www.zling.site/js/eureka.min.js></script>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link rel=preload href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" as=style onload="this.onload=null,this.rel='stylesheet'">
<link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css media=print onload="this.media='all',this.onload=null" crossorigin>
<script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/dart.min.js crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js integrity="sha256-uNYoXefWRqv+PsIF/OflNmwtKM4lStn9yrz2gVl6ymo=" crossorigin></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X media=print onload="this.media='all',this.onload=null" crossorigin>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script>
<script defer src=https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js integrity="sha256-Zmpaaj+GXFsPF5WdPArSrnW3b30dovldeKsW00xBVwE=" crossorigin></script>
<link rel=icon type=image/png sizes=32x32 href=https://www.zling.site/dahuai_samll_hu748c515f1bdb2c1f9ec985baae37b97d_3583_32x32_fill_box_center_3.png>
<link rel=apple-touch-icon sizes=180x180 href=https://www.zling.site/dahuai_samll_hu748c515f1bdb2c1f9ec985baae37b97d_3583_180x180_fill_box_center_3.png>
<meta name=description content="c# 7.0 ç‰¹æ€§ æ•°å­—å­—é¢é‡çš„æ”¹è¿› æ•°å­—å­—é¢é‡å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¥æ”¹å–„å¯è¯»æ€§ã€å®ƒä»¬ç§°ä¸ºæ•°å­—åˆ†éš”ç¬¦è€Œè¢«ç¼–è¯‘å™¨å¿½ç•¥ int million = 1_000_000; var b = 0b1010_1011_1100_1101_1110_1111; // äºŒè¿›åˆ¶å­—é¢é‡å¯ä»¥ä½¿ç”¨0bå‰ç¼€è¿›è¡Œæ ‡è¯† è§£">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"æ–‡ç« ","item":"https://www.zling.site/posts/"},{"@type":"ListItem","position":2,"name":"CSharpæŸ¥ç¼ºè¡¥æ¼20210928","item":"https://www.zling.site/posts/csharp%E6%9F%A5%E7%BC%BA%E8%A1%A5%E6%BC%8F20210928/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.zling.site/posts/csharp%E6%9F%A5%E7%BC%BA%E8%A1%A5%E6%BC%8F20210928/"},"headline":"CSharpæŸ¥ç¼ºè¡¥æ¼20210928 | ğŸ¦æ³½æ¢…å°”çš„é©»ç•™åœ°","datePublished":"2021-09-28T15:52:28+08:00","dateModified":"2021-09-28T15:52:28+08:00","wordCount":1936,"author":{"@type":"Person","name":["zemelling"]},"publisher":{"@type":"Person","name":"Zemel Ling","logo":{"@type":"ImageObject","url":"https://www.zling.site/dahuai_samll.png"}},"description":"c# 7.0 ç‰¹æ€§ æ•°å­—å­—é¢é‡çš„æ”¹è¿› æ•°å­—å­—é¢é‡å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¥æ”¹å–„å¯è¯»æ€§ã€å®ƒä»¬ç§°ä¸ºæ•°å­—åˆ†éš”ç¬¦è€Œè¢«ç¼–è¯‘å™¨å¿½ç•¥ int million = 1_000_000; var b = 0b1010_1011_1100_1101_1110_1111; \/\/ äºŒè¿›åˆ¶å­—é¢é‡å¯ä»¥ä½¿ç”¨0bå‰ç¼€è¿›è¡Œæ ‡è¯† è§£"}</script><meta property="og:title" content="CSharpæŸ¥ç¼ºè¡¥æ¼20210928 | ğŸ¦æ³½æ¢…å°”çš„é©»ç•™åœ°">
<meta property="og:type" content="article">
<meta property="og:image" content="https://www.zling.site/dahuai_samll.png">
<meta property="og:url" content="https://www.zling.site/posts/csharp%E6%9F%A5%E7%BC%BA%E8%A1%A5%E6%BC%8F20210928/">
<meta property="og:description" content="c# 7.0 ç‰¹æ€§ æ•°å­—å­—é¢é‡çš„æ”¹è¿› æ•°å­—å­—é¢é‡å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¥æ”¹å–„å¯è¯»æ€§ã€å®ƒä»¬ç§°ä¸ºæ•°å­—åˆ†éš”ç¬¦è€Œè¢«ç¼–è¯‘å™¨å¿½ç•¥ int million = 1_000_000; var b = 0b1010_1011_1100_1101_1110_1111; // äºŒè¿›åˆ¶å­—é¢é‡å¯ä»¥ä½¿ç”¨0bå‰ç¼€è¿›è¡Œæ ‡è¯† è§£">
<meta property="og:locale" content="zh">
<meta property="og:site_name" content="ğŸ¦æ³½æ¢…å°”çš„é©»ç•™åœ°">
<meta property="article:published_time" content="2021-09-28T15:52:28+08:00">
<meta property="article:modified_time" content="2021-09-28T15:52:28+08:00">
<meta property="article:section" content="posts">
<meta property="article:tag" content="CSharp">
<meta property="og:see_also" content="https://www.zling.site/posts/%E4%BD%BF%E7%94%A8activator%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B/">
<meta property="og:see_also" content="https://www.zling.site/posts/csharp%E8%B0%83%E7%94%A8%E9%9D%9E%E6%89%98%E7%AE%A1c++%E6%97%B6%E4%BD%BF%E7%94%A8%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/">
<meta property="og:see_also" content="https://www.zling.site/posts/csharp%E7%9A%84environment%E7%B1%BB/">
<meta property="og:see_also" content="https://www.zling.site/posts/csharp%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%96%B9%E6%B3%95/">
<meta property="og:see_also" content="https://www.zling.site/posts/csharp%E4%B8%AD%E7%9A%84socket%E7%BC%96%E7%A8%8B/">
<meta property="og:see_also" content="https://www.zling.site/posts/csharp%E4%B8%AD%E7%9A%84%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B/">
<body class="flex flex-col min-h-screen">
<header class="fixed flex items-center w-full min-h-16 pl-scrollbar z-50 bg-secondary-bg shadow-sm">
<div class="w-full max-w-screen-xl mx-auto"><script>let storageColorScheme=localStorage.getItem("lightDarkMode");(storageColorScheme=='Auto'&&window.matchMedia("(prefers-color-scheme: light)").matches||storageColorScheme=="Light")&&document.getElementsByTagName('html')[0].classList.remove('dark')</script>
<nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0">
<a href=/ class="mr-6 text-primary-text text-xl font-bold">ğŸ¦æ³½æ¢…å°”çš„é©»ç•™åœ°</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
<i class="fas fa-bars"></i>
</button>
<div id=target class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
<div class="md:flex md:h-16 text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0">
<a href=/#about class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">ğŸ‘¨â€ğŸš€å…³äºæˆ‘</a>
<a href=/posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 selected-menu-item mr-4">ğŸ“•æ–‡ç« </a>
<a href=/docs/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">ğŸ“æ–‡æ¡£</a>
</div>
<div class=flex>
<div class="relative pt-4 md:pt-0">
<div class="cursor-pointer hover:text-eureka" id=lightDarkMode>
<i class="fas fa-moon"></i>
</div>
<div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open>
</div>
<div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions>
<span class="px-4 py-1 hover:text-eureka" name=Light>æµ…è‰²</span>
<span class="px-4 py-1 hover:text-eureka" name=Dark>æ·±è‰²</span>
<span class="px-4 py-1 hover:text-eureka" name=Auto>è‡ªåŠ¨</span>
</div>
</div>
</div>
</div>
<div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile>
</div>
</nav>
<script>let element=document.getElementById('lightDarkMode');storageColorScheme=='Auto'?(element.firstElementChild.classList.remove('fa-moon'),element.firstElementChild.setAttribute("data-icon",'adjust'),element.firstElementChild.classList.add('fa-adjust'),document.addEventListener('DOMContentLoaded',()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change',switchDarkMode)})):storageColorScheme=="Light"&&(element.firstElementChild.classList.remove('fa-moon'),element.firstElementChild.setAttribute("data-icon",'sun'),element.firstElementChild.classList.add('fa-sun')),document.addEventListener('DOMContentLoaded',()=>{getcolorscheme(),switchBurger()})</script>
</div>
</header>
<main class="flex-grow pt-16">
<div class=pl-scrollbar>
<div class="w-full max-w-screen-xl lg:px-4 xl:px-8 mx-auto">
<div class="grid grid-cols-2 lg:grid-cols-8 gap-4 lg:pt-12">
<div class="col-span-2 lg:col-span-6 bg-secondary-bg rounded px-6 py-8">
<h1 class="font-bold text-3xl text-primary-text">CSharpæŸ¥ç¼ºè¡¥æ¼20210928</h1>
<div class="flex flex-wrap flex-row items-center mt-2 text-tertiary-text">
<div class="mr-6 my-2">
<i class="fas fa-calendar mr-1"></i>
<span>2021-09-28</span>
</div>
<div class="mr-6 my-2">
<i class="fas fa-clock mr-1"></i>
<span>4åˆ†é’Ÿé˜…è¯»æ—¶é•¿</span>
</div>
<div class="mr-6 my-2">
<i class="fas fa-folder mr-1"></i>
<a href=https://www.zling.site/categories/csharp/ class=hover:text-eureka>CSharp</a>
</div>
</div>
<div class=content>
<h1 id=c-70-ç‰¹æ€§>c# 7.0 ç‰¹æ€§</h1>
<h2 id=æ•°å­—å­—é¢é‡çš„æ”¹è¿›>æ•°å­—å­—é¢é‡çš„æ”¹è¿›</h2>
<p>æ•°å­—å­—é¢é‡å¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿æ¥æ”¹å–„å¯è¯»æ€§ã€å®ƒä»¬ç§°ä¸ºæ•°å­—åˆ†éš”ç¬¦è€Œè¢«ç¼–è¯‘å™¨å¿½ç•¥</p>
<pre><code class=language-C#>int million = 1_000_000;

var b = 0b1010_1011_1100_1101_1110_1111; // äºŒè¿›åˆ¶å­—é¢é‡å¯ä»¥ä½¿ç”¨0bå‰ç¼€è¿›è¡Œæ ‡è¯†
</code></pre>
<h2 id=è§£æ„å™¨>è§£æ„å™¨</h2>
<p>è§£æ„æ–¹æ³•çš„åå­—å¿…é¡»ä¸ºDeconstructï¼Œå¹¶ä¸”æ‹¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªoutå‚æ•°</p>
<pre><code class=language-c#>class Rectangle
{
    public readonly float Width, Height;
    public Rectangle(float width, float height)
    {
        Width = width;
        Height = height;
    }

    public void Deconstruct(out float width, out float height)
    {
        width = Width;
        height = Height;
    }
}
</code></pre>
<p>è‹¥è¦è°ƒç”¨è§£æ„å™¨ï¼Œåˆ™éœ€ä½¿ç”¨å¦‚ä¸‹çš„ç‰¹æ®Šè¯­æ³•</p>
<pre><code class=language-c#>
var rect = new Rectangle(3, 4);
(float width, float height) = rect; // width = 3, height = 4
(var w, var h) = rect; // è§£æ„å™¨æ”¯æŒéšå¼æ¨æ–­

</code></pre>
<h1 id=ç±»>ç±»</h1>
<h2 id=é‡è½½æ„é€ å™¨>é‡è½½æ„é€ å™¨</h2>
<p>å½“æ„é€ å™¨è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨æ—¶ï¼Œè¢«è°ƒç”¨çš„æ„é€ å™¨å…ˆæ‰§è¡Œã€‚</p>
<h2 id=å½“æ„é€ å™¨è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨æ—¶è¢«è°ƒç”¨çš„æ„é€ å™¨å…ˆæ‰§è¡Œ>å½“æ„é€ å™¨è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨æ—¶ï¼Œè¢«è°ƒç”¨çš„æ„é€ å™¨å…ˆæ‰§è¡Œã€‚</h2>
<p>å½“æ„é€ å™¨è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨æ—¶ï¼Œè¢«è°ƒç”¨çš„æ„é€ å™¨å…ˆæ‰§è¡Œã€‚</p>
<h2 id=å‚é‡>å‚é‡</h2>
<p>å¸¸é‡æ˜¯ä¸€ç§å€¼æ°¸è¿œä¸ä¼šæ”¹å˜çš„é™æ€å­—æ®µã€‚å¸¸é‡ä¼šåœ¨ç¼–è¯‘æ—¶é™æ€èµ‹å€¼ï¼Œç¼–è¯‘å™¨ä¼šåœ¨å¸¸é‡ä½¿ç”¨ç‚¹ä¸Šç›´æ¥æ›¿æ¢è¯¥å€¼ï¼ˆç±»ä¼¼äºC++çš„å®ï¼‰ã€‚</p>
<pre><code class=language-c#>public static double Circumference(double radius)
{
    return 2 * System.Math.PI * radius;
}

// ç¼–è¯‘åç­‰ä»·äº

public static double Circumference(double radius)
{
    return 6.2831583071795862 * radius;
}
</code></pre>
<h2 id=é™æ€æ„é€ å™¨>é™æ€æ„é€ å™¨</h2>
<p>æ¯ä¸ªç±»å‹çš„é™æ€æ„é€ å™¨åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œä¸æ˜¯æ¯ä¸ªå®ä¾‹æ‰§è¡Œä¸€æ¬¡ã€‚ä¸€ä¸ªç±»å‹åªèƒ½å®šä¹‰ä¸€ä¸ªé™æ€æ„é€ å™¨ï¼Œåç§°å¿…é¡»å’Œç±»å‹åŒåï¼Œä¸”æ²¡æœ‰å‚æ•°</p>
<p>è¿è¡Œæ—¶å°†åœ¨ç±»å‹ä½¿ç”¨ä¹‹å‰è°ƒç”¨é™æ€æ„é€ å™¨ï¼Œä»¥ä¸‹ä¸¤ç§è¡Œä¸ºå¯ä»¥è§¦å‘é™æ€æ„é€ å™¨æ‰§è¡Œï¼š</p>
<ul>
<li>å®ä¾‹åŒ–ç±»å‹</li>
<li>è®¿é—®ç±»å‹çš„é™æ€æˆå‘˜</li>
</ul>
<p>é™æ€æ„é€ å™¨åªæ”¯æŒä¸¤ä¸ªä¿®é¥°ç¬¦ï¼šunsafeå’Œextern</p>
<h3 id=é™æ€æ„é€ å™¨å’Œå­—æ®µåˆå§‹åŒ–é¡ºåº>é™æ€æ„é€ å™¨å’Œå­—æ®µåˆå§‹åŒ–é¡ºåº</h3>
<p>é™æ€å­—æ®µåˆå§‹åŒ–å™¨ä¼šåœ¨è°ƒç”¨é™æ€æ„é€ å™¨å‰è¿è¡Œã€‚å¦‚æœç±»å‹æ²¡æœ‰é™æ€æ„é€ å™¨ï¼Œå­—æ®µä¼šåœ¨ç±»å‹è¢«ä½¿ç”¨ä¹‹å‰æˆ–è€…åœ¨è¿è¡Œæ—¶ä¸­æ›´æ—©çš„æ—¶é—´è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<p>é™æ€å­—æ®µåˆå§‹åŒ–å™¨æŒ‰ç…§å­—æ®µå£°æ˜çš„å…ˆåé¡ºåºè¿è¡Œã€‚</p>
<h1 id=ç»§æ‰¿>ç»§æ‰¿</h1>
<h2 id=newå’Œé‡å†™çš„åŒºåˆ«>newå’Œé‡å†™çš„åŒºåˆ«</h2>
<pre><code class=language-c#>public class BaseClass
{
    public virtual void Foo() {Console.WriteLine(&quot;BaseClass.Foo&quot;);}
}

public class Overrider : BaseClass
{
    public override void Foo() {Console.WriteLine(&quot;Overrider.Foo&quot;);}
}

public class Hider : BaseClass
{
    public new void Foo() {Console.WriteLine(&quot;Hider.Foo&quot;);}
}

// test
Overrider over = new Overrider();
BaseClass b1 = over;
over.Foo();    // Overrider.Foo
b1.Foo();     // Overrider.Foo

Hider h = new Hider();
BaseClass b2 = h;
h.Foo();    // Hider.Foo
b2.Foo();    // BaseClass.Foo
</code></pre>
<h2 id=æ„é€ å™¨å’Œç»§æ‰¿>æ„é€ å™¨å’Œç»§æ‰¿</h2>
<p>å­ç±»å¿…é¡»å£°æ˜è‡ªå·±çš„æ„é€ å™¨ã€‚æ´¾ç”Ÿç±»å¯ä»¥è®¿é—®åŸºç±»çš„æ„é€ å™¨ï¼Œä½†æ˜¯å¹¶éè‡ªåŠ¨ç»§æ‰¿ã€‚</p>
<p>åŸºç±»çš„æ„é€ å™¨æ€»æ˜¯å…ˆæ‰§è¡Œï¼Œè¿™ä¿è¯äº†åŸºç±»çš„åˆå§‹åŒ–å‘ç”Ÿåœ¨å­ç±»ç‰¹å®šçš„åˆå§‹åŒ–ä¹‹å‰ã€‚</p>
<p>å¦‚æœå­ç±»çš„æ„é€ å™¨çœç•¥baseå…³é”®å­—ï¼Œé‚£ä¹ˆåŸºç±»çš„æ— å‚æ•°æ„é€ å™¨å°†è¢«éšå¼è°ƒç”¨ã€‚</p>
<p>å¦‚æœåŸºç±»æ²¡æœ‰å¯è®¿é—®çš„æ— å‚æ•°çš„æ„é€ å™¨ï¼Œå­ç±»çš„æ„é€ å™¨ä¸­å°±å¿…é¡»ä½¿ç”¨baseå…³é”®å­—ã€‚</p>
<h3 id=æ„é€ å™¨å’Œå­—æ®µåˆå§‹åŒ–çš„é¡ºåº>æ„é€ å™¨å’Œå­—æ®µåˆå§‹åŒ–çš„é¡ºåº</h3>
<ul>
<li>1 ä»å­ç±»åˆ°åŸºç±»
<ul>
<li>1.1 åˆå§‹åŒ–å­—æ®µ</li>
<li>1.2 è®¡ç®—è¢«è°ƒç”¨çš„åŸºç±»æ„é€ å™¨ä¸­çš„å‚æ•°</li>
</ul>
</li>
<li>2 ä»åŸºç±»åˆ°å­ç±»
<ul>
<li>2.1 æ„é€ å™¨æ–¹æ³•ä½“çš„æ‰§è¡Œ</li>
</ul>
</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class=language-c#>public class BaseClass
{
    int x = 1;  // ç¬¬ä¸‰æ­¥
    public BaseClass(int x)
    {
        //something // ç¬¬å››æ­¥
    }
}

public class SubClass : BaseClass
{
    int y = 1;  // ç¬¬ä¸€æ­¥
    public SubClass(int x) :
        base(x + 1) // ç¬¬äºŒæ­¥
    {
        // something // ç¬¬äº”æ­¥
    }
}
</code></pre>
<h1 id=objectç±»å‹>Objectç±»å‹</h1>
<h2 id=è£…ç®±å’Œæ‹†ç®±çš„ç¼ºç‚¹>è£…ç®±å’Œæ‹†ç®±çš„ç¼ºç‚¹</h2>
<ul>
<li>å¼€é”€å¤§ï¼Œå­˜åœ¨å†…å­˜å¤åˆ¶æ“ä½œ</li>
<li>æ‹†ç®±æ—¶å¦‚æœç±»å‹é”™è¯¯ï¼Œåªä¼šåœ¨è¿è¡Œæ—¶å‘ç°</li>
</ul>
<h2 id=gettypeå’Œtypeof>GetTypeå’Œtypeof</h2>
<ul>
<li>GetTypeåœ¨è¿è¡Œæ—¶è®¡ç®—è€Œtypeofåœ¨ç¼–è¯‘æ—¶é™æ€è®¡ç®—ï¼ˆå¦‚æœæ˜¯ç”¨æ³›å‹ç±»å‹å‚æ•°ï¼Œé‚£ä¹ˆå®ƒå°†ç”±å³æ—¶ç¼–è¯‘å™¨è§£æï¼‰</li>
</ul>
<h1 id=ç»“æ„ä½“>ç»“æ„ä½“</h1>
<h2 id=ç»“æ„ä½“çš„æ„é€ è¯­ä¹‰>ç»“æ„ä½“çš„æ„é€ è¯­ä¹‰</h2>
<ul>
<li>ç»“æ„ä½“éšå¼åŒ…å«ä¸€ä¸ªæ— æ³•é‡å†™çš„æ— å‚æ•°æ„é€ å™¨ï¼Œå°†å­—æ®µæŒ‰ä½ç½®ä¸º0ã€‚</li>
<li>å®šä¹‰ç»“æ„ä½“çš„æ„é€ å™¨æ—¶ï¼Œå¿…é¡»æ˜¾å¼ä¸ºæ¯ä¸€ä¸ªå­—æ®µèµ‹å€¼</li>
</ul>
<h2 id=å…¶ä»–>å…¶ä»–</h2>
<ul>
<li>ç»“æ„ä½“ä¸æ”¯æŒå­—æ®µåˆå§‹åŒ–å™¨</li>
</ul>
<h1 id=å¯è®¿é—®æ€§>å¯è®¿é—®æ€§</h1>
<h2 id=å‹å…ƒç¨‹åºé›†>å‹å…ƒç¨‹åºé›†</h2>
<p>åœ¨ä¸€äº›é«˜çº§çš„åœºæ™¯ä¸­ï¼Œæ·»åŠ System.Runtime.CompilerServices.InternalsVisibleToç¨‹åºé›†ç‰¹æ€§å°±å¯ä»¥å°†internalæˆå‘˜æä¾›ç»™å…¶ä»–çš„å‹å…ƒç¨‹åºé›†è®¿é—®</p>
<pre><code class=language-c#>[assembly:InternalsVisibleTo(&quot;Friend&quot;)]
</code></pre>
<p>å¦‚æœå‹å…ƒç¨‹åºé›†æœ‰å¼ºåç§°ï¼Œå¿…é¡»æŒ‡å®šå…¶å®Œæ•´çš„160å­—èŠ‚å…¬é’¥</p>
<pre><code class=language-c#>[assembly:InternalsVisibleTo(&quot;StrongFriend, PublicKey=00241ffa...&quot;)]

// è·å–å¼ºåç§°ç¨‹åºé›†çš„å…¬é’¥
string key = string.Join(&quot;&quot;, Assembly.GetExecutingAssembly().GetName().GetPublicKey().Select(b =&gt; b.ToString(&quot;x2&quot;)));
</code></pre>
<h1 id=æ¥å£>æ¥å£</h1>
<p>æ˜¾å¼å®ç°çš„æ¥å£æˆå‘˜ä¸èƒ½æ ‡è¯†ä¸ºvirtualï¼Œä¹Ÿä¸èƒ½å®ç°é€šå¸¸æ„ä¹‰çš„é‡å†™ï¼Œä½†æ˜¯å®ƒå¯ä»¥è¢«é‡æ–°å®ç°ï¼ˆreimplementedï¼‰ã€‚</p>
<h2 id=åœ¨å­ç±»ä¸­é‡æ–°å®ç°æ¥å£>åœ¨å­ç±»ä¸­é‡æ–°å®ç°æ¥å£</h2>
<p>å­ç±»å¯ä»¥é‡æ–°å®ç°åŸºç±»å®ç°çš„ä»»æ„ä¸€ä¸ªæ¥å£æˆå‘˜ã€‚ä¸ç®¡åŸºç±»ä¸­è¯¥æˆå‘˜æ˜¯å¦ä¸ºvirtualï¼Œå½“é€šè¿‡æ¥å£è°ƒç”¨æ—¶ï¼Œé‡æ–°å®ç°éƒ½èƒ½å¤ŸåŠ«æŒæˆå‘˜çš„å®ç°ã€‚å®ƒå¯¹æ¥å£æˆå‘˜çš„éšå¼å’Œæ˜¾å¼å®ç°éƒ½æœ‰æ•ˆï¼Œä½†åè€…æ•ˆæœæ›´å¥½ã€‚</p>
<pre><code class=language-c#>public interface IUndoable {void Undo();}

public class TextBox : IUndoable
{
    void IUndoable.Undo() =&gt; Console.WriteLine(&quot;TextBox.Undo&quot;);
}

public class RichTextBox : TextBox, IUndoable
{
    public void Undo() =&gt; Console.WriteLine(&quot;RichTextBox.Undo&quot;);
}

// ä»æ¥å£è°ƒç”¨é‡æ–°å®ç°çš„æˆå‘˜æ—¶ï¼Œè°ƒç”¨çš„æ˜¯å­ç±»çš„å®ç°
RichTextBox r = new RichTextBox();
r.Undo();    // RichTextBox.Undo
((IUndoable)r).Undo();    // RichTextBox.Undo
</code></pre>
<p>é€šè¿‡é‡æ–°å®ç°æ¥åŠ«æŒè°ƒç”¨çš„æ–¹å¼ä»…åœ¨é€šè¿‡æ¥å£è°ƒç”¨æˆå‘˜æ—¶æœ‰æ•ˆï¼Œè€Œä»åŸºç±»è°ƒç”¨æ—¶æ— æ•ˆã€‚è¿™ä¸ªç‰¹æ€§é€šå¸¸ä¸å°½äººæ„ï¼Œå› ä¸ºå®ƒæœ‰äºŒä¹‰æ€§ã€‚å› æ­¤ï¼Œé‡æ–°å®ç°ä¸»è¦é€‚åˆäºé‡å†™æ˜¾å¼å®ç°çš„æ¥å£æˆå‘˜</p>
<h2 id=æ¥å£é‡æ–°å®ç°çš„æ›¿ä»£æ–¹æ³•>æ¥å£é‡æ–°å®ç°çš„æ›¿ä»£æ–¹æ³•</h2>
<p>å³ä½¿æ˜¯æ˜¾å¼å®ç°çš„æˆå‘˜ï¼Œæ¥å£é‡æ–°å®ç°è¿˜æ˜¯å®¹æ˜“å‡ºé—®é¢˜ï¼Œè¿™æ˜¯å› ä¸º</p>
<ul>
<li>å­ç±»æ— æ³•è°ƒç”¨åŸºç±»çš„æ–¹æ³•</li>
<li>å®šä¹‰åŸºç±»æ—¶ä¸èƒ½é¢„æµ‹æ–¹æ³•æ˜¯å¦ä¼šé‡æ–°å®ç°ï¼Œæˆ–æ— æ³•æ¥å—é‡æ–°å®ç°åçš„æ½œåœ¨é—®é¢˜</li>
</ul>
<p>é‡æ–°å®ç°æ˜¯å­ç±»æœªçŸ¥æ—¶çš„æœ€ä¸ç†æƒ³çš„æ–¹æ³•ã€‚æ›´å¥½çš„é€‰æ‹©æ˜¯åœ¨å®šä¹‰åŸºç±»æ—¶ä¸å…è®¸ä½¿ç”¨é‡æ–°å®ç°ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥åšåˆ°</p>
<ul>
<li>å½“éšå¼å®ç°æˆå‘˜æ—¶ï¼Œå¦‚æœéœ€è¦å°†å…¶æ ‡è®°ä¸ºvirtual</li>
<li>å½“æ˜¾å¼å®ç°æˆå‘˜æ—¶ï¼Œå¦‚æœèƒ½å¤Ÿé¢„æµ‹å­ç±»å¯èƒ½è¦é‡å†™æŸäº›é€»è¾‘ï¼Œåˆ™ä½¿ç”¨ä¸‹é¢çš„æ¨¡å¼</li>
</ul>
<pre><code class=language-c#>public class TextBox : IUndoable
{
    void IUndoable.Undo() =&gt; Undo();
    protected virtual void Undo() =&gt; Console.WriteLine(&quot;TextBox.Undo&quot;);
}

public class RichTextBox : TextBox
{
    protected override void Undo() =&gt; Console.WriteLine(&quot;RichTextBox.Undo&quot;);
}
</code></pre>
<h2 id=æ¥å£ä¸è£…ç®±>æ¥å£ä¸è£…ç®±</h2>
<p>å°†ç»“æ„ä½“è½¬æ¢ä¸ºæ¥å£ä¼šå¼•å‘è£…ç®±ã€‚è€Œè°ƒç”¨ç»“æ„ä½“çš„éšå¼å®ç°æ¥å£æˆå‘˜ä¸ä¼šå¼•å‘è£…ç®±ã€‚</p>
<pre><code class=language-c#>interface I {void Foo();}
struct S : I {void Foo();}

S s = new S();
s.Foo();  // æ²¡æœ‰è£…ç®±

I i = s;  // è£…ç®±
i.Foo();
</code></pre>
<h1 id=æšä¸¾ç±»å‹>æšä¸¾ç±»å‹</h1>
<h1 id=é˜…è¯»ä¹¦æœ¬>é˜…è¯»ä¹¦æœ¬</h1>
<p><a href=https://weread.qq.com/web/reader/710327c0718f6368710b285kc81322c012c81e728d9d180>C# 7.0æ ¸å¿ƒæŠ€æœ¯æŒ‡å—ï¼ˆåŸä¹¦ç¬¬7ç‰ˆï¼‰</a></p>
</div>
<div class=my-4>
<a href=https://www.zling.site/tags/csharp/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#CSharp</a>
</div>
<div class=py-2>
<div class="flex flex-col md:flex-row items-center my-8">
<a href=https://www.zling.site/authors/zemelling/ class="w-24 h-24 md:mr-4">
<img src=https://www.zling.site/images/%E5%A4%A7%E6%88%B7%E7%88%B1.jpg class="w-full bg-primary-bg rounded-full" alt=Avatar>
</a>
<div class="w-full md:w-auto mt-4 md:mt-0">
<a href=https://www.zling.site/authors/zemelling/ class="block font-bold text-lg pb-1 mb-2 border-b">Zemel Ling</a>
<span class="block pb-2">Late equals never.</span>
<a href=https://github.com/ZemelLing class=mr-1>
<i class="fab fa-github"></i>
</a>
</div>
</div>
</div>
<div class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t">
<div>
</div>
<div class="md:text-right mt-4 md:mt-0">
<span class="block font-bold">ä¸‹ä¸€é¡µ</span>
<a href=https://www.zling.site/posts/%E4%BD%BF%E7%94%A8activator%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B/ class=block>ä½¿ç”¨ActivatoråŠ¨æ€åˆ›å»ºå®ä¾‹</a>
</div>
</div>
</div>
<div class=col-span-2>
<div class="sticky top-16 z-10 hidden lg:block px-6 py-4 bg-primary-bg">
<span class="text-lg font-semibold">æœ¬é¡µå†…å®¹</span>
</div>
<div class="sticky-toc hidden lg:block px-6 pb-6">
<nav id=TableOfContents>
<ul>
<li><a href=#æ•°å­—å­—é¢é‡çš„æ”¹è¿›>æ•°å­—å­—é¢é‡çš„æ”¹è¿›</a></li>
<li><a href=#è§£æ„å™¨>è§£æ„å™¨</a></li>
</ul>
<ul>
<li><a href=#é‡è½½æ„é€ å™¨>é‡è½½æ„é€ å™¨</a></li>
<li><a href=#å½“æ„é€ å™¨è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨æ—¶è¢«è°ƒç”¨çš„æ„é€ å™¨å…ˆæ‰§è¡Œ>å½“æ„é€ å™¨è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨æ—¶ï¼Œè¢«è°ƒç”¨çš„æ„é€ å™¨å…ˆæ‰§è¡Œã€‚</a></li>
<li><a href=#å‚é‡>å‚é‡</a></li>
<li><a href=#é™æ€æ„é€ å™¨>é™æ€æ„é€ å™¨</a>
<ul>
<li><a href=#é™æ€æ„é€ å™¨å’Œå­—æ®µåˆå§‹åŒ–é¡ºåº>é™æ€æ„é€ å™¨å’Œå­—æ®µåˆå§‹åŒ–é¡ºåº</a></li>
</ul>
</li>
</ul>
<ul>
<li><a href=#newå’Œé‡å†™çš„åŒºåˆ«>newå’Œé‡å†™çš„åŒºåˆ«</a></li>
<li><a href=#æ„é€ å™¨å’Œç»§æ‰¿>æ„é€ å™¨å’Œç»§æ‰¿</a>
<ul>
<li><a href=#æ„é€ å™¨å’Œå­—æ®µåˆå§‹åŒ–çš„é¡ºåº>æ„é€ å™¨å’Œå­—æ®µåˆå§‹åŒ–çš„é¡ºåº</a></li>
</ul>
</li>
</ul>
<ul>
<li><a href=#è£…ç®±å’Œæ‹†ç®±çš„ç¼ºç‚¹>è£…ç®±å’Œæ‹†ç®±çš„ç¼ºç‚¹</a></li>
<li><a href=#gettypeå’Œtypeof>GetTypeå’Œtypeof</a></li>
</ul>
<ul>
<li><a href=#ç»“æ„ä½“çš„æ„é€ è¯­ä¹‰>ç»“æ„ä½“çš„æ„é€ è¯­ä¹‰</a></li>
<li><a href=#å…¶ä»–>å…¶ä»–</a></li>
</ul>
<ul>
<li><a href=#å‹å…ƒç¨‹åºé›†>å‹å…ƒç¨‹åºé›†</a></li>
</ul>
<ul>
<li><a href=#åœ¨å­ç±»ä¸­é‡æ–°å®ç°æ¥å£>åœ¨å­ç±»ä¸­é‡æ–°å®ç°æ¥å£</a></li>
<li><a href=#æ¥å£é‡æ–°å®ç°çš„æ›¿ä»£æ–¹æ³•>æ¥å£é‡æ–°å®ç°çš„æ›¿ä»£æ–¹æ³•</a></li>
<li><a href=#æ¥å£ä¸è£…ç®±>æ¥å£ä¸è£…ç®±</a></li>
</ul>
</nav>
</div>
<script>window.addEventListener('DOMContentLoaded',()=>{enableStickyToc()})</script>
</div>
<div class="col-span-2 lg:col-span-6 bg-secondary-bg rounded p-6">
<h2 class="text-lg font-semibold mb-4">ç›¸å…³</h2>
<div class=content>
<a href=https://www.zling.site/posts/%E4%BD%BF%E7%94%A8activator%E5%8A%A8%E6%80%81%E5%88%9B%E5%BB%BA%E5%AE%9E%E4%BE%8B/>ä½¿ç”¨ActivatoråŠ¨æ€åˆ›å»ºå®ä¾‹</a>
<br>
<a href=https://www.zling.site/posts/csharp%E8%B0%83%E7%94%A8%E9%9D%9E%E6%89%98%E7%AE%A1c++%E6%97%B6%E4%BD%BF%E7%94%A8%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/>CSharpè°ƒç”¨éæ‰˜ç®¡C++æ—¶ä½¿ç”¨å›è°ƒå‡½æ•°é‡åˆ°çš„é—®é¢˜</a>
<br>
<a href=https://www.zling.site/posts/csharp%E7%9A%84environment%E7%B1%BB/>CSharpçš„Environmentç±»</a>
<br>
<a href=https://www.zling.site/posts/csharp%E8%BF%9E%E6%8E%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%96%B9%E6%B3%95/>CSharpè¿æ¥MySqlæ•°æ®åº“çš„æ–¹æ³•</a>
<br>
<a href=https://www.zling.site/posts/csharp%E4%B8%AD%E7%9A%84socket%E7%BC%96%E7%A8%8B/>CSharpä¸­çš„Socketç¼–ç¨‹</a>
<br>
<a href=https://www.zling.site/posts/csharp%E4%B8%AD%E7%9A%84%E5%8E%8B%E7%BC%A9%E5%92%8C%E8%A7%A3%E5%8E%8B/>CSharpä¸­çš„å‹ç¼©å’Œè§£å‹</a>
<br>
</div>
</div>
</div>
<script>document.addEventListener('DOMContentLoaded',()=>{hljs.initHighlightingOnLoad()})</script>
</div>
</div>
</main>
<footer class=pl-scrollbar>
<div class="w-full max-w-screen-xl mx-auto"><div class="text-center p-6 pin-b">
<p class="text-sm text-tertiary-text">&copy; 2021 <a href=https://www.zling.site/>Zemel Ling</a> | <a href=https://beian.miit.gov.cn>é—½ICPå¤‡2021013106å·</a>
&#183; Powered by the <a href=https://github.com/wangchucheng/hugo-eureka class=hover:text-eureka>Eureka</a> theme for <a href=https://gohugo.io class=hover:text-eureka>Hugo</a></p>
</div></div>
</footer>
</body>
</html>